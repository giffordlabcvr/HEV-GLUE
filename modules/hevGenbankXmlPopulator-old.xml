<genbankXmlPopulator>
	<gbPrimaryAccession>
		<fieldPopulator fieldName="GB_PRIMARY_ACCESSION"/>
	</gbPrimaryAccession>
	<gbAccessionVersion>
		<fieldPopulator fieldName="GB_ACCESSION_VERSION"/>
	</gbAccessionVersion>
	<gbOtherID>
		<fieldPopulator fieldName="GB_GI_NUMBER">
			<matchPattern>gi\|(\d+)</matchPattern>
			<outputTemplate>${g1}</outputTemplate>
		</fieldPopulator>
	</gbOtherID>
	<gbLength>
		<fieldPopulator fieldName="GB_LENGTH"/>
	</gbLength>
	<gbCreateDate>
		<fieldPopulator fieldName="GB_CREATE_DATE"/>
	</gbCreateDate>
	<gbTaxonomy>
		<fieldPopulator fieldName="GB_GENUS">
			<matchPattern>.*; *(.*)\.?$</matchPattern>
			<outputTemplate>${g1}</outputTemplate>
		</fieldPopulator>		
	</gbTaxonomy>
	
		<gbTaxonomy>
		<fieldPopulator fieldName="GB_GENUS">
		</fieldPopulator>		
	</gbTaxonomy>
	<gbFeature key="source">
		<gbQualifier name="isolate">
			<fieldPopulator fieldName="ISOLATE"/>
		</gbQualifier>
		<gbQualifier name="country">
			<fieldPopulator fieldName="COUNTRY">
				<matchPattern>([A-Za-z ]+)(?::.*)?</matchPattern>
				<outputTemplate>${g1}</outputTemplate>
			</fieldPopulator>
		</gbQualifier>
		<gbQualifier name="host">
		
			<fieldPopulator fieldName="HOST">

				<valueConverter>
					<matchPattern>.*[Dd]og.*</matchPattern>
					<outputTemplate>Canis familiaris</outputTemplate>
				</valueConverter>
				
				<valueConverter>
					<matchPattern>.*Canis lupus familiaris.*</matchPattern>
					<outputTemplate>Canis familiaris</outputTemplate>
				</valueConverter>

				<valueConverter>
					<matchPattern>.*[Cc]anine.*</matchPattern>
					<outputTemplate>Canis familiaris</outputTemplate>
				</valueConverter>
				<valueConverter>
					<matchPattern>.*Canis mesomelas (silver-backed jackal).*</matchPattern>
					<outputTemplate>Canis mesomelas</outputTemplate>
				</valueConverter>									
				<valueConverter>
					<matchPattern>[Ff]ox</matchPattern>
					<outputTemplate>Vulpes vulpes</outputTemplate>
				</valueConverter>	
								
				<valueConverter>
					<matchPattern>.*[Cc]at.*</matchPattern>
					<outputTemplate>Felis catus</outputTemplate>
				</valueConverter>
				<valueConverter>
					<matchPattern>.*[Ff]eline.*</matchPattern>
					<outputTemplate>Felis catus</outputTemplate>
				</valueConverter>
				<valueConverter>
					<matchPattern>.*[Cc]at.*</matchPattern>
					<outputTemplate>Felis catus</outputTemplate>
				</valueConverter>
				<valueConverter>
					<matchPattern>.*Crocuta crocuta.*</matchPattern>
					<outputTemplate>Crocuta crocuta</outputTemplate>
				</valueConverter>
				
				<valueConverter>
					<matchPattern>.*[Mm]ouse.*</matchPattern>
					<outputTemplate>Mus musculus</outputTemplate>
				</valueConverter>
				<valueConverter>
					<matchPattern>.*[Mm]us [Mm]usculus.*</matchPattern>
					<outputTemplate>Mus musculus</outputTemplate>
				</valueConverter>
				
				<valueConverter>
					<matchPattern>.*[Hh]omo [Ss]apiens.*</matchPattern>
					<outputTemplate>Homo sapiens</outputTemplate>
				</valueConverter>
				<valueConverter>
					<matchPattern>.*[Hh]uman.*</matchPattern>
					<outputTemplate>Homo sapiens</outputTemplate>
				</valueConverter>
				
				
 				<valueConverter>
					<matchPattern>.*[Rr]at.*</matchPattern>
					<outputTemplate>Rattus norvegicus</outputTemplate>
				</valueConverter>
 				<valueConverter>
					<matchPattern>.*[Cc]hicken.*</matchPattern>
					<outputTemplate>Gallus gallus</outputTemplate>
				</valueConverter>								
 				<valueConverter>
					<matchPattern>.*Gallus gallus.*</matchPattern>
					<outputTemplate>Gallus gallus</outputTemplate>
				</valueConverter>								
 				<valueConverter>
					<matchPattern>.*broiler chicken.*</matchPattern>
					<outputTemplate>Gallus gallus</outputTemplate>
				</valueConverter>
 				<valueConverter>
					<matchPattern>.*[Tt]urkey.*</matchPattern>
					<outputTemplate>Meleagris gallopavo</outputTemplate>
				</valueConverter>				
 				<valueConverter>
					<matchPattern>.*Anas platyrhynchos (mallard).*</matchPattern>
					<outputTemplate>Anas platyrhynchos</outputTemplate>
				</valueConverter>				
 				<valueConverter>
					<matchPattern>.*[Dd]uck.*</matchPattern>
					<outputTemplate>Anas platyrhynchos</outputTemplate>
				</valueConverter>	
				
 				<valueConverter>
					<matchPattern>.*[Hh]orse.*</matchPattern>
					<outputTemplate>Equus caballus</outputTemplate>
				</valueConverter>	
 				<valueConverter>
					<matchPattern>.*Equus caballus.*</matchPattern>
					<outputTemplate>Equus caballus</outputTemplate>
				</valueConverter>	
																																	
 				<valueConverter>
					<matchPattern>.*[Pp]ig.*</matchPattern>
					<outputTemplate>Sus scrofa</outputTemplate>
				</valueConverter>
 				<valueConverter>
					<matchPattern>.*[Pp]iglet.*</matchPattern>
					<outputTemplate>Sus scrofa</outputTemplate>
				</valueConverter>
 				<valueConverter>
					<matchPattern>.*[Ss]wine.*</matchPattern>
					<outputTemplate>Sus scrofa</outputTemplate>
				</valueConverter>
 				<valueConverter>
					<matchPattern>.*Sus scrofa domesticus*</matchPattern>
					<outputTemplate>Sus scrofa</outputTemplate>
				</valueConverter>
				
 				<valueConverter>
					<matchPattern>.*[Pp]orcine.*</matchPattern>
					<outputTemplate>Sus scrofa</outputTemplate>
				</valueConverter>
				
 				<valueConverter>
					<matchPattern>.*[Cc]ow.*</matchPattern>
					<outputTemplate>Bos taurus</outputTemplate>
				</valueConverter>								
 				<valueConverter>
					<matchPattern>.*[Bb]ovine.*</matchPattern>
					<outputTemplate>Bos taurus</outputTemplate>
				</valueConverter>				
 				<valueConverter>
					<matchPattern>.*[Cc]attle.*</matchPattern>
					<outputTemplate>Bos taurus</outputTemplate>
				</valueConverter>	
 				<valueConverter>
					<matchPattern>.*[Cc]alf.*</matchPattern>
					<outputTemplate>Bos taurus</outputTemplate>
				</valueConverter>				
 				<valueConverter>
					<matchPattern>.*Bos taurus.*</matchPattern>
					<outputTemplate>Bos taurus</outputTemplate>
				</valueConverter>		
				
			</fieldPopulator>

		</gbQualifier>
		<gbQualifier name="genotype">
			<fieldPopulator fieldName="GB_GENOTYPE">
				<matchPattern>([A-E].*)</matchPattern>
				<outputTemplate>${g1}</outputTemplate>
			</fieldPopulator>
		</gbQualifier>

	<!-- this rule will genotype about 70 odd sequences, not sure if it is valid. 
		Had a look at ViPR (www.viprbrc.org), they are also treating serotype as 
		genotype / subtype 
		<gbQualifier name="type">
			<fieldPopulator fieldName="GB_GENOTYPE">
				<matchPattern>([a-z][1-9])+</matchPattern>
				<outputTemplate>${g1}</outputTemplate>
			</fieldPopulator>
		</gbQualifier>
		<gbQualifier name="subtype">
			<fieldPopulator fieldName="GB_GENOTYPE">
				<matchPattern>([a-z][1-9])+</matchPattern>
				<outputTemplate>${g1}</outputTemplate>
			</fieldPopulator>
		</gbQualifier>
		<gbQualifier name="organism">
			<fieldPopulator fieldName="GB_GENOTYPE">
				<matchPattern>subtype\s+([a-z][1-9])+</matchPattern>
				<outputTemplate>${g1}</outputTemplate>
			</fieldPopulator>
		</gbQualifier>
		<gbQualifier name="strain">
			<fieldPopulator fieldName="GB_GENOTYPE">
				<matchPattern>([a-z][1-9])+</matchPattern>
				<outputTemplate>${g1}</outputTemplate>
			</fieldPopulator>
		</gbQualifier>
		-->

		<gbQualifier name="collection_date">
			<fieldPopulator fieldName="GB_COLLECTION_YEAR">
				<matchPattern>(\d{4})</matchPattern>
				<outputTemplate>${g1}</outputTemplate>
			</fieldPopulator>
		</gbQualifier>
	</gbFeature>
</genbankXmlPopulator>
